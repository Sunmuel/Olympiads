% Enables modern LaTeX compatibility.
\NeedsTeXFormat{LaTeX2e}

% Name, date and version of the package.
\ProvidesPackage{article}[2025/09/08 v0.1 Olympiad Mathematics macros & enrironments]

% Specify how big is going to be the paper margins.
\RequirePackage[a4paper, margin=2.0cm]{geometry}

% amsmath: Add useful commands like aligh and gather.
% amsfonts: Add useful fonts like \mathbb{R}.
% amssymb: Add useful symbles like \therefore (needs amsfonts to work).
% amsthm: Add useful environments like \begin{proof}
\RequirePackage{amsmath, amsfonts, amssymb, amsthm}

\usepackage{fontspec}
\usepackage{emoji}
\setmainfont{Latin Modern Roman}

\RequirePackage{xcolor}

\definecolor{color1}{HTML}{21295c}
\definecolor{color2}{HTML}{1b3b6f}
\definecolor{color3}{HTML}{065a82}
\definecolor{color4}{HTML}{1c7293}
\definecolor{color5}{HTML}{F0EEE7}
\definecolor{color6}{HTML}{C91C33}
\definecolor{color7}{HTML}{2e933c}
\definecolor{color8}{HTML}{EAEDEF}

% Add Latin Modern Fonts like Sans-serif and Roman.
\RequirePackage{lmodern}

% Makes header and footer configurable.
\RequirePackage{fancyhdr}

\pagestyle{fancy}
\fancyhf{}

% Makes the use of colored and configured tables possible
\RequirePackage[most]{tcolorbox}

% Enables enumeration of items.
\RequirePackage{enumitem}

% Enables adding images.
\RequirePackage{graphicx}

% Enables cool hyper references.
\RequirePackage[colorlinks=true, linkcolor=teal, urlcolor=teal, citecolor=burnt]{hyperref}

% Enables referencing theorems after its the declaration, for example.
\RequirePackage[nameinlink,capitalise]{cleveref}

% Enables book covering.
\RequirePackage{pdfpages}

\RequirePackage{pgf, tikz}
\usetikzlibrary{arrows}

\renewcommand*\contentsname{\textsf{Contents}}

\newcommand{\olympiad}[1]{\renewcommand{\olympiad}{#1}}

\newcommand{\solspref}{
	This document contains solutions to the \olympiad \ problems, written by me during my preparation for the International
	Mathematical Olympiad.

	The content reflects my own understanding and problem-solving process. Some solutions may have been inspired by the work
	of others or required external help, in which case proper attribution is given (see \cref{sec:references}).

	If you notice any errors or have suggestions for improvement, I would greatly appreciate hearing from you at
	\href{mailto:samuelbaraujo19@gmail.com}{samuelbaraujo19@gmail.com}.
}

\newcommand{\unit}[1]{\renewcommand{\unit}{#1}}

\newcommand{\otispref}{
	This document collects my solutions to the OTIS problem sets from the \unit \ unit, written during my preparation for mathematical olympiads.

	The solutions reflect my understanding and problem-solving approach at the time of writing. Some arguments were informed by discussions, official notes, or published sources; when so, attribution is provided (see \cref{sec:references}).

	If you find errors or have suggestions, please contact me at \href{mailto:samuelbaraujo19@gmail.com}{samuelbaraujo19@gmail.com
	}.
}

% Creates a new command, e.g. \RR works the same as mathbb{R}, but is easier.
\newcommand{\CC}{\mathbb{C}}
\newcommand{\RR}{\mathbb{R}}
\newcommand{\ZZ}{\mathbb{Z}}
\newcommand{\NN}{\mathbb{N}}

\newcommand{\cyc}{\sum_{\text{cyc}}}
\newcommand{\sym}{\sum_{\text{sym}}}

\newcommand{\prodcyc}{\prod_{\text{cyc}}}
\newcommand{\prodsym}{\prod_{\text{sym}}}

\tcbset{
	theorembox/.style={
			enhanced,
			enhanced jigsaw,
			drop shadow,
			arc=1.4mm,
			breakable,
			colback=color8,
			colframe=color3,
			coltitle=color8,
			colbacktitle=color3,
			fonttitle=\bfseries\sffamily,
			before skip=10pt, after skip=10pt,
			left=8pt, right=8pt, top=8pt, bottom=8pt,
			width=\linewidth,
			boxrule=0.6pt
		}
}

\tcbset{
	lemmabox/.style={
			enhanced,
			enhanced jigsaw,
			drop shadow,
			arc=1.4mm,
			breakable,
			colback=color8,
			colframe=color3,
			coltitle=color2,
			fonttitle=\bfseries\sffamily,
			before skip=10pt, after skip=10pt,
			left=8pt, right=8pt, top=8pt, bottom=8pt,
			width=\linewidth,
			attach title to upper,
			boxrule=0.6pt,
			after title={\quad}
		}
}

\tcbset{
	examplebox/.style={
			enhanced,
			arc=1.4mm,
			breakable,
			colback=color8,
			colframe=color8,
			coltitle=color2,
			fonttitle=\bfseries\sffamily,
			before skip=10pt, after skip=10pt,
			left=8pt, right=8pt, top=8pt, bottom=8pt,
			width=\linewidth,
			attach title to upper,
			boxrule=0.6pt,
			after title={ --- }
		}
}

\tcbset{
	problembox/.style={
			enhanced,
			enhanced jigsaw,
			drop shadow,
			breakable,
			colback=color8,
			colframe=color2,
			coltitle=color8,
			colbacktitle=color1,
			fonttitle=\bfseries\sffamily,
			before skip=10pt, after skip=10pt,
			left=8pt, right=8pt, top=8pt, bottom=8pt,
			width=\linewidth,
			boxrule=0.6pt
		}
}

\tcbset{
	claimbox/.style={
			enhanced,
			breakable,
			colback=color8,
			colframe=color2,
			coltitle=color1,
			fonttitle=\bfseries\sffamily,
			before skip=10pt, after skip=10pt,
			left=8pt, right=8pt, top=8pt, bottom=8pt,
			width=\linewidth,
			attach title to upper,
			boxrule=0.6pt,
			after title={ --- }
		}
}

\tcbset{
	observationbox/.style={
			enhanced,
			breakable,
			colback=color8,
			colframe=color:,
			coltitle=color1,
			fonttitle=\bfseries\sffamily,
			before skip=10pt, after skip=10pt,
			left=8pt, right=8pt, top=8pt, bottom=8pt,
			width=\linewidth,
			attach title to upper,
			boxrule=0.6pt,
			after title={ --- }
		}
}

\newtcbtheorem[auto counter, number within=section]{theorem}{Theorem}{theorembox}{theorem}
\newtcbtheorem[use counter from=theorem]{definition}{Definition}{theorembox}{definition}
\newtcbtheorem[use counter from=theorem]{lemma}{Lemma}{theorembox}{lemma}
\newtcbtheorem[use counter from=theorem]{corollary}{Corollary}{theorembox}{corollary}
\newtcbtheorem[use counter from=theorem]{examplebox}{Example}{examplebox}{example}

\newtcolorbox{problem}{problembox, title=Problem Statement}
\newtcolorbox{claim}{claimbox, title=Claim}
\newtcolorbox{observation}{examplebox, title=Observation}
\newtcolorbox{insight}{examplebox, title={\footnotesize \emoji{bulb}}  Insight}

\crefname{section}{section}{sections}
\Crefname{section}{Section}{Sections}

\crefname{tcb@cnt@theorem}{Theorem}{Theorems}
\crefname{tcb@cnt@definition}{Definition}{Definitions}
\crefname{tcb@cnt@lemma}{Lemma}{Lemmas}
\crefname{tcb@cnt@corollary}{Corollary}{Corollaries}
\crefname{tcb@cnt@example}{Example}{Examples}
