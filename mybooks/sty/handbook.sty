% Enables modern LaTeX compatibility.
\NeedsTeXFormat{LaTeX2e}

% Name, date and version of the package.
\ProvidesPackage{handbook}[2025/09/08 v0.1 Olympiad Mathematics macros & enrironments]

% Specify how big is going to be the paper margins.
\RequirePackage[
	paperwidth=6in, paperheight=9in,
	top=0.65in,
	bottom=0.8in,
	inner=0.65in,
	outer=0.65in
]{geometry}

% amsmath: Add useful commands like aligh and gather.
% amsfonts: Add useful fonts like \mathbb{R}.
% amssymb: Add useful symbles like \therefore (needs amsfonts to work).
% amsthm: Add useful environments like \begin{proof}
\RequirePackage{amsmath, amsfonts, amssymb, amsthm}

\RequirePackage{xcolor}

\definecolor{wine}{HTML}{5f0f40}
\definecolor{red}{HTML}{9a031e}
\definecolor{amber}{HTML}{fb8b24}
\definecolor{burnt}{HTML}{e36414}
\definecolor{teal}{HTML}{0f4c5c}
\definecolor{white}{HTML}{fffdf7}
\definecolor{black}{HTML}{1e1528}


% Add Latin Modern Fonts like Sans-serif and Roman.
\RequirePackage{lmodern}

% Makes header and footer configurable.
\RequirePackage{fancyhdr}

\pagestyle{fancy}
\fancyhf{}

\fancyhead[LE, RO]{\nouppercase{\leftmark}}
\fancyhead[LO, RE]{\nouppercase{\rightmark}}
\fancyfoot[C]{\thepage}
\setlength{\headheight}{14.5pt}

% Makes the use of colored and configured tables possible
\RequirePackage[most]{tcolorbox}

% Enables enumeration of items.
\RequirePackage{enumitem}

% Enables adding images.
\RequirePackage{graphicx}

% Enables cool hyper references.
\RequirePackage[colorlinks=true]{hyperref}

% Enables referencing theorems after its the declaration, for example.
\RequirePackage[nameinlink,capitalise]{cleveref}

% Enables book covering.
\RequirePackage{pdfpages}

\renewcommand*\contentsname{\textsf{Contents}}

\setcounter{tocdepth}{1}

% Creates a new command, e.g. \RR works the same as mathbb{R}, but is easier.
\newcommand{\CC}{\mathbb{C}}
\newcommand{\RR}{\mathbb{R}}
\newcommand{\ZZ}{\mathbb{Z}}
\newcommand{\NN}{\mathbb{N}}

\tcbset{
	athmbox/.style={
			enhanced,
			enhanced jigsaw,
			drop shadow,
			arc=1.4mm,
			breakable,
			colback=all,
			colframe=****,
			coltitle=all,
			colbacktitle=****,
			fonttitle=\bfseries\sffamily,
			before skip=10pt, after skip=10pt,
			left=8pt, right=8pt, top=8pt, bottom=8pt,
			width=\linewidth,
			boxrule=0.6pt
		}
}

\tcbset{
	alembox/.style={
			enhanced,
			enhanced jigsaw,
			drop shadow,
			arc=1.4mm,
			breakable,
			colback=all,
			colframe=****,
			coltitle=****,
			fonttitle=\bfseries\sffamily,
			before skip=10pt, after skip=10pt,
			left=8pt, right=8pt, top=8pt, bottom=8pt,
			width=\linewidth,
			attach title to upper,
			boxrule=0.6pt,
			after title={\quad}
		}
}

\tcbset{
	aexabox/.style={
			enhanced,
			arc=1.4mm,
			breakable,
			colback=all,
			colframe=all,
			coltitle=****,
			fonttitle=\bfseries\sffamily,
			before skip=10pt, after skip=10pt,
			left=8pt, right=8pt, top=8pt, bottom=8pt,
			width=\linewidth,
			attach title to upper,
			boxrule=0.6pt,
			after title={\quad}
		}
}

\tcbset{
	aobsbox/.style={
			enhanced,
			arc=1.4mm,
			breakable,
			colback=all,
			colframe=all,
			coltitle=****,
			fonttitle=\bfseries\sffamily,
			before skip=10pt, after skip=10pt,
			left=8pt, right=8pt, top=8pt, bottom=8pt,
			width=\linewidth,
			attach title to upper,
			boxrule=0.6pt,
			after title={\quad}
		}
}

\newtcbtheorem[auto counter, number within=chapter]{thm}{Theorem}{thmbox}{thm}
\newtcbtheorem[use counter from=thm]{lem}{Lemma}{lembox}{lem}
\newtcbtheorem[use counter from=thm]{cor}{Corollary}{thmbox}{cor}
\newtcbtheorem[auto counter, number within=section]{exa}{Example}{exabox}{exa}
\newtcbtheorem[use counter from=exa]{obs}{Observation}{obsbox}{obs}

\crefname{tcb@cnt@thm}{Theorem}{Theorems}
\crefname{tcb@cnt@def}{Definition}{Definitions}
\crefname{tcb@cnt@lem}{Lemma}{Lemmas}
\crefname{tcb@cnt@cor}{Corollary}{Corollaries}
\crefname{tcb@cnt@exa}{Example}{Examples}
\crefname{tcb@cnt@obs}{Observation}{Observations}

